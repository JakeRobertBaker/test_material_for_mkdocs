<!-- snippets: latex_math, set_theory -->
# Universal Algebra

Based on the Johnstone [notes](https://www.cambridge.org/core/books/notes-on-logic-and-set-theory/A4D56347336629DBFC20710AF214B245).

There is some good [discussion](https://math.stackexchange.com/questions/921712/what-is-a-set-raised-to-the-0-power-in-relation-to-the-definition-of-a-nullary)
on singleton sets here.

/// definition | Nullary Set
    attrs: {id: def-nullary-set}

We denote the nullary set as $G^0$ as $∅$
///

/// definition | Finary Operation
    attrs: {id: def-Finary-Operation}

A finary operation is a map from a set $G$ to any of
$$
G^0, G^1=G, G^2 = G \times G, ...
$$
///

/// definition | Operational Type
    attrs: {id: def-OperationalType}

An operational type is a pair $(\Omega, \alpha)$ with

- set of operation symbols $\Omega$
- a map
$\alpha : \Omega \mapsto \mathbb{N}$ that assigns each $\omega \in \Omega$ it's arity $\alpha(\omega)$.
///

/// definition | Operational Structure
    attrs: {id: def-OperationalStructure}

An operational structure $(\Omega, \alpha)$ is

- a set $A$ with an operational type $(\Omega, \alpha)$

- a function $\omega_A : A^{\alpha(\omega)} \mapsto A$ for each $\omega \in \Omega$

$\omega_A$ is *the interpretation of abstract symbol* $\omega$ *in the structure $A$*.

///

/// definition | Homomorphism
    attrs: {id: def-Homomorphism}

A map $f:A\mapsto B$ is a homomorphism of $\Omega$ structures $A$ & $B$ if

$$
f(\omega_A (a_1,..., a_n)) = \omega_B (f(a_1),...,f(a_n))
$$

where $\alpha(\omega)=n$ and $\forall a_1,...,a_n \in A$
///

/// definition | The set of $\Omega$-terms in $X$
    attrs: {id: def-Term}

Let $\Omega$ be an opertaional type and $X$ be a set.

The set $F_{\Omega}(X)$  of $\Omega$ terms is defined inductively:

1. If $x \in X$ then $x \in F_{Ω}(X)$
2. If $w \in \Omega$ with $\alpha(w)=n$ and $t_1,...,t_n \in \Omega$ then $wt_1...t_n \in F_{Ω}(X)$.
///

Note that this really the intersection of all operation structures that contain $X$.

/// theorem | $F_\Omega(X)$ is a sigma structure
    attrs: {id: thm-FX_is_sigma}

1. The set of $\Omega$-terms in $X$, $F_{\Omega}(X)$ has a \Omega structure.
2. Given any $\Omega$ structure $F_\Omega(X)$ and any map $f:X \mapsto A$ there exists a unique homomorphism $\hat{f}:F_\Omega(X) \mapsto A$

In other words $F_\Omega(X)$ is the free structure generated by $X$
///

/// proof | Proof of Theorem: $F_\Omega(X)$ is a sigma structure

Need to define the interpretation of $\omega$ on FX via
$$
\omega_{FX}(t_1,...,t_n) = \omega t_1 ... t_n
$$
///

/// lemma | X terms from finite
    attrs: {id: lem-XfromFinite}

$F_{\Omega}(X)=\bigcup \lbrace F_{\Omega}(X^\prime) \mid X^\prime \subset X \text{ is finite} \rbrace$
///

/// definition | Derived Operations
    attrs: {id: def-derived_operation}

Let $X_n= \lbrace x_1,...,x_n \rbrace$, $t \in F_{\Omega}(X_n)$, $A$ be a $\Omega$ structure.

The n-ary derived operation corresponding to $t \in F_{\Omega}(X)$, $t_A : A^n \rightarrow A$ is defined as

$\forall \underline{a} \in A^n$

$$
t_A(\underline{a})
= \begin{cases}
    a_i &\text{if } t = x_i \in X_n \\
    \omega_A \lparen t_1(\underline{a}) ,..., t_m(\underline{a}) \rparen
    &\text{if } t = \omega t_1 ... t_m, \text{ for } t_1,...,t_m \in F_{\Omega}(X_n), \alpha(\omega)=m
\end{cases}
$$
///

Note this really does just mean we keep applying the standard operations until we get to the X terms.

Therefore a derived operation really is just the map it represents

/// example | Derived Operationss are literally themselves
    attrs: {id: exm-simple_derived_operation}

If $t=mx_1 m x_2 x_3$ then $t_A(\underline{a})= m \left( a_1, m \left( a_2, a_3) \right) \right)$

More generally if
$t = \dots \omega x_1 \dots x_m \dots$ then
$t_A(\underline{a}) = \left( \dots, \omega \left( a_1, \dots a_m \right), \dots \right)$

In particular when $t \in A = F_{\Omega}(X_n)$, $\underline{u}=\left( u_1,\dots, u_n \right)$
$$
t_A(\underline{u}) =  \dots \omega u_1 \dots u_n \dots =
t[u_1/x_1, \dots, u_n/x_n] \ \forall \underline{u} \in F_{\Omega}(X_n)
$$

Where $t[u / x_i]$ denote replacing symbol $x_i$ with $u$ where $x_i$ appears in $t$.

This also means that
$$
t_{F_{\Omega}(X)}(x_1,\dots, x_n) = t
$$

///

/// example | Derived Operations in X terms
    attrs: {id: exm-trivial_derived_interpretation}

When considering interpretation of

Let $t[u / x_i]$ denote replacing symbol $x_i$ with $u$ where $x_i$ appears in $t$.
$$
t_A (\underline{u}) =
$$
///

/// definition | n-ary Equation
    attrs: {id: def-nary_equation}

An n-ary equation in operational type $(\Omega, \alpha)$ is an expression $(s=t)$ for $s,t \in F_{\Omega}(X_n)$
///

/// definition | Satisfied
    attrs: {id: def-nary-satisfied}

An n-ary equation is satisfied in operational structure A iff $t_A \equiv s_A$
///

/// definition | Algebraic Theory
    attrs: {id: def-algebraic_theory}

An Algebraic Theory $T=(\Omega, E)$ is an operational type $(\Omega, \alpha)$ and set $E$ of equations in $\Omega$
///

/// definition | Model
    attrs: {id: def-model}

A model for an Algebraic Theory $T=(\Omega, E)$ or T-algebra is an Operational Structure $\Omega$ where all equations in $E$ are satisfied.
///

/// example | Group Theory Model
    attrs: {id: exm-group-model}

A group $G$ is a $\left( \omega, E \right)$ model where $\Omega = \{ m,i,e\}$ and
$E=\{(m x_1 m x_2 x_3 = m m x_1 x_2 x_3), (mex_1=x_1), (m i x_1 x_1 = e)\}$
///

/// definition | Derived Equations
    attrs: {id: def-derived_equations}

Let $E$ be a set of equations. The set $\tilde{E}$ of derived equation satisfies:

1. $E \subset \tilde{E}$

2. $\tilde{E}$ defines an equivalence relation $s \sim_E t \iff (s=t) \in \tilde{E}$ on the set of terms $F_{\Omega}(X)$

    1. reflexive: $(t=t) \in \tilde{E} \ \forall t \in F_{\Omega}(X)$
    2. symmetric: $(s=t) \implies (t=s)$
    3. transitive: $(s=t),(t=u) \implies (s=u)$

3. Substitution rules:

    1. $(s=t) \in \tilde{E} \implies (s[u / x_i] = t[u / x_i])$
    2. $(s=t), u \in F_{\Omega}(X_n) \implies u[s/x_i] = u[t/x_i]$

///

This is just the smallest subset of all possible equations $(s=t)$ such that it is closed under a,b,c.

/// example | Group Theory Example
    attrs: {id: exm-group_theory}

1. $t = m e x_1 = x_1 = s \in \tilde{E} \implies m e u = u \forall u \in F_{\Omega}(X)$
2. $u = m x_1 x_2$, $t=s$ as before, $\implies m x_1 \textcolor{red}{mex_1} = m x_1 \textcolor{red}{x_1}$
///

/// definition | Equivalence Classes of Equations on X
    attrs: {id: def-XEquivalence}

The equivalence classes of $\sim_E$ on $F_{\Omega}(X)$ is $F_{(\Omega, E)}(X)$
///

/// theorem | The set of equivalence classes satisfies the equations in E
    attrs: {id: thm-X_e_classes_model}

1. $F_{(\Omega, E)}(X)$ inherits $\Omega$-structure from $F_{\Omega}(X)$ and satisfies the equations in $E$.

2. $F_{(\Omega, E)}(X)$ is the free model generated by X.

    i.e. For any map $f: F_{\Omega}(X) \to (\Omega, E) \text{ model } A$ there is a unique homomorphism $\tilde{f}: F_{(\Omega, E)}(X) \to A$
///

Let $[t]$ denote the equivalence class of $t \in F_{\Omega}(X)$

/// proof | Proof of Theorem: Equivalence classes satisfy E
    open: true

**Part I**

In part(i) we need to show that this indeed an $\Omega$ structure. This requires showing that the interpretation of $\Omega$ operations in $F_{\Omega}(X)$ respects the equivanece relation:

Consider operation $\omega \in \Omega$ with $\alpha(\omega)=n$ and symbols $t_1,\dots, t_n$ and $s_1, \dots, s_n$ where $t_i \sim_{E} s_i \forall i \in \{1, \dots, n$.

We need to show that the operations result is the same regardless of the representative picked for each equivalence class:

$$
\begin{align*}
\text{[definition] }
\omega([t_1], \dots, [t_n])
&=
&\omega [t_1] \dots [t_n]
\\
\text{[substitution rule 3b]}
& \sim_E
&\omega [s_1] \dots [t_n]
\\
&\vdots
\\
\text{[substitution rule 3b]}
&\sim_E
&\omega [s_1] \dots [s_n]
\\
\text{[definition]}
&=
&\omega([s_1],\dots,[s_n])
\end{align*}
$$

Hence we have a valid interpretation that respects the equivalence relation.

We have just shown that the interpretation $\omega_{A'}(\underline{u})=[\omega_A(u)]$ is well defined.

The next part we need to show is that all equations in $E$ are satisfied.

Consider $\left( s=t \right) \in E$ where $s,t \in A = F_{\Omega}(X_n)$

Then the interpretation of $s$ in $A$ sends $[\underline{u}] \in F_{(\Omega, E)}(X), u \in F_{\Omega}(X_n)$ as follows,

$$
\begin{align*}
s_A ([\underline{u}])
\end{align*}
$$

///
